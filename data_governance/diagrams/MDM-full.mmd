---
config:
  layout: elk
---
flowchart TB
 subgraph External["External Interfaces"]
        WebApp["SneakerPark.com<br>Web Application"]
        Mobile["Mobile App"]
        API["Public API"]
  end
 subgraph CriticalSystems["Critical Systems (99.999% Uptime)"]
        USR["User Service<br>(usr schema)<br>â”â”â”â”â”â”â”â”â”â”<br>ğŸ‘¤ Users<br>ğŸ’³ Credit Cards<br>â”â”â”â”â”â”â”â”â”â”<br>Real-time"]
        OP["Order Processing<br>(op schema)<br>â”â”â”â”â”â”â”â”â”â”<br>ğŸ›’ Orders<br>ğŸ“¦ Order Items<br>ğŸšš Shipments<br>â”â”â”â”â”â”â”â”â”â”<br>Real-time"]
        CS["Customer Service<br>(cs schema)<br>â”â”â”â”â”â”â”â”â”â”<br>ğŸ“ Support Tickets<br>â”â”â”â”â”â”â”â”â”â”<br>Real-time + Batch"]
  end
 subgraph ModerateSystems["Moderate Criticality (99.99% Uptime)"]
        LI["Listing Service<br>(li schema)<br>â”â”â”â”â”â”â”â”â”â”<br>ğŸ“‹ Listings<br>â”â”â”â”â”â”â”â”â”â”<br>Real-time"]
  end
 subgraph LowCritical["Lower Criticality (99% Uptime)"]
        IM["Inventory Management<br>(im schema)<br>â”â”â”â”â”â”â”â”â”â”<br>ğŸ“¦ Items<br>ğŸ­ Warehouse<br>â”â”â”â”â”â”â”â”â”â”<br>Batch (Nightly)"]
  end
 subgraph Centralized["CENTRALIZED Component"]
        GoldenCustomer["Golden Customer Records<br>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br>Master Customer Data<br>â€¢ Unique Customer ID<br>â€¢ Verified Name<br>â€¢ Verified Address<br>â€¢ Verified Email<br>â€¢ Merged Duplicates<br>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br>Source of Truth"]
  end
 subgraph Registry["REGISTRY Component"]
        CrossRef["Cross-Reference Index<br>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br>Item Mappings<br>â€¢ ItemID â†’ ListingID<br>â€¢ ProductID â†’ ItemID<br>â€¢ Seller Mappings<br>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br>Lightweight Index"]
  end
 subgraph MDMHub["MDM HUB - Hybrid Architecture"]
        Centralized
        Registry
        MatchEngine["Matching Engine<br>â”â”â”â”â”â”â”â”â”â”<br>Fuzzy Matching<br>Deduplication<br>Reconciliation"]
        DataQuality["Data Quality Engine<br>â”â”â”â”â”â”â”â”â”â”<br>Validation Rules<br>Quality Scoring<br>Issue Detection"]
        Workflow["Workflow Manager<br>â”â”â”â”â”â”â”â”â”â”<br>Steward Alerts<br>Approval Process<br>Conflict Resolution"]
  end
 subgraph DataGov["Data Governance Layer"]
        Steward["Data Stewards<br>â”â”â”â”â”â”â”â”â”â”<br>Jessica (Lead)<br>CS Team<br>Warehouse Team"]
        Monitor["Monitoring Dashboard<br>â”â”â”â”â”â”â”â”â”â”<br>DQ Metrics<br>MDM Health<br>Sync Status"]
  end
 subgraph Integration["Integration Layer"]
        ETL["ETL Processes<br>â”â”â”â”â”â”â”â”â”â”<br>Batch Jobs (Nightly)<br>â€¢ IM â†’ MDM Hub<br>â€¢ CS â†’ MDM Hub<br>â”â”â”â”â”â”â”â”â”â”<br>Change Data Capture"]
        RealTime["Real-Time Sync<br>â”â”â”â”â”â”â”â”â”â”<br>Event-Driven<br>â€¢ USR â†” MDM Hub<br>â€¢ OP â†” MDM Hub<br>â€¢ LI â†” MDM Hub<br>â”â”â”â”â”â”â”â”â”â”<br>Message Queue"]
  end
    WebApp --> USR & OP & LI
    Mobile --> USR & OP
    API --> USR
    USR <-- "Real-time Sync<br>Customer Data" --> RealTime
    OP <-- "Real-time Sync<br>Order Data" --> RealTime
    LI <-- "Real-time Sync<br>Listing Data" --> RealTime
    RealTime --> CrossRef & GoldenCustomer
    IM -- Nightly Batch<br>Item Data --> ETL
    CS -- Nightly Batch<br>Support Data --> ETL
    ETL --> CrossRef & GoldenCustomer
    CrossRef --> MatchEngine
    GoldenCustomer --> MatchEngine
    MatchEngine --> DataQuality
    DataQuality --> Workflow & Monitor
    Workflow --> Steward
    Steward --> Monitor
    Monitor --> MDMHub
    GoldenCustomer -. Publish Master<br>Customer Data .-> RealTime
    CrossRef -. Publish<br>Item Mappings .-> ETL
    style Centralized fill:#ffe6e6,stroke:#cc0000,stroke-width:2px
    style Registry fill:#e6ffe6,stroke:#00cc00,stroke-width:2px
    style MDMHub fill:#e6f3ff,stroke:#0066cc,stroke-width:4px
    style CriticalSystems fill:#fff0e6,stroke:#ff9900,stroke-width:2px
    style ModerateSystems fill:#f0fff0,stroke:#66cc66,stroke-width:2px
    style LowCritical fill:#f0f0ff,stroke:#6666cc,stroke-width:2px
    style DataGov fill:#fff9e6,stroke:#ccaa00,stroke-width:2px
    style Integration fill:#f5f5f5,stroke:#666666,stroke-width:2px
